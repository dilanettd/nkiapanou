import { Injectable } from '@angular/core';
import { Observable, of } from 'rxjs';
import { IProduct } from '../../models2/product.model';
import { Order } from '../../models2/order.model';

@Injectable({
  providedIn: 'root',
})
export class MockDataService {
  private products: IProduct[] = [
    {
      id: 1,
      name: 'Chaise Moderne',
      slug: 'chaise-moderne',
      description:
        'Une chaise moderne au design épuré, parfaite pour votre salle à manger.',
      price: 59.99,
      discount_price: 49.99,
      quantity: 25,
      category_id: 1,
      status: 'active',
      featured: true,
      weight: 4.5,
      dimensions: '45x50x85cm',
      origin_country: 'France',
      sku: 'CH-MOD-001',
      packaging: 'Boîte en carton',
      low_stock_threshold: 5,
      created_at: '2023-06-15T10:00:00',
      updated_at: '2023-06-15T10:00:00',
      images: [
        {
          id: 1,
          product_id: 1,
          image_path: '/assets/images/products/chaise-1.jpg',
          is_primary: true,
          created_at: '2023-06-15T10:00:00',
          updated_at: '2023-06-15T10:00:00',
        },
        {
          id: 2,
          product_id: 1,
          image_path: '/assets/images/products/chaise-2.jpg',
          is_primary: false,
          created_at: '2023-06-15T10:00:00',
          updated_at: '2023-06-15T10:00:00',
        },
      ],
    },
    {
      id: 2,
      name: 'Table Basse Scandinave',
      slug: 'table-basse-scandinave',
      description:
        'Table basse au style scandinave, en bois clair et pieds inclinés.',
      price: 129.99,
      discount_price: 109.99,
      quantity: 15,
      category_id: 2,
      status: 'active',
      featured: true,
      weight: 12.8,
      dimensions: '110x60x45cm',
      origin_country: 'Suède',
      sku: 'TB-SCA-002',
      packaging: 'Carton plat + protection',
      low_stock_threshold: 3,
      created_at: '2023-06-16T11:30:00',
      updated_at: '2023-06-16T11:30:00',
      images: [
        {
          id: 3,
          product_id: 2,
          image_path: '/assets/images/products/table-1.jpg',
          is_primary: true,
          created_at: '2023-06-16T11:30:00',
          updated_at: '2023-06-16T11:30:00',
        },
      ],
    },
    {
      id: 3,
      name: 'Canapé 3 Places',
      slug: 'canape-3-places',
      description:
        'Canapé confortable 3 places en tissu gris, parfait pour votre salon.',
      price: 499.99,
      quantity: 8,
      category_id: 3,
      status: 'active',
      featured: true,
      weight: 45.0,
      dimensions: '210x85x90cm',
      origin_country: 'Italie',
      sku: 'CA-3PL-003',
      low_stock_threshold: 2,
      created_at: '2023-06-17T09:15:00',
      updated_at: '2023-06-17T09:15:00',
      images: [
        {
          id: 4,
          product_id: 3,
          image_path: '/assets/images/products/canape-1.jpg',
          is_primary: true,
          created_at: '2023-06-17T09:15:00',
          updated_at: '2023-06-17T09:15:00',
        },
      ],
    },
    {
      id: 4,
      name: 'Lampe de Bureau LED',
      slug: 'lampe-bureau-led',
      description:
        "Lampe de bureau LED avec variateur d'intensité et port USB.",
      price: 39.99,
      quantity: 30,
      category_id: 4,
      status: 'active',
      featured: false,
      weight: 1.2,
      dimensions: '15x15x40cm',
      origin_country: 'Allemagne',
      sku: 'LB-LED-004',
      packaging: 'Boîte avec protection',
      low_stock_threshold: 5,
      created_at: '2023-06-18T14:45:00',
      updated_at: '2023-06-18T14:45:00',
      images: [
        {
          id: 5,
          product_id: 4,
          image_path: '/assets/images/products/lampe-1.jpg',
          is_primary: true,
          created_at: '2023-06-18T14:45:00',
          updated_at: '2023-06-18T14:45:00',
        },
      ],
    },
  ];

  private orders: Order[] = [
    {
      id: 1,
      user_id: 1,
      order_number: 'ORD-20230720-001',
      status: 'delivered',
      total_amount: 159.98,
      shipping_fee: 10.0,
      tax_amount: 5.99,
      discount_amount: 0,
      payment_status: 'paid',
      payment_method: 'stripe',
      payment_id: 'pi_3MxD6vJZkj4aTX0v0NdAmwYj',
      billing_address: '123 Rue du Commerce',
      billing_city: 'Paris',
      billing_postal_code: '75001',
      billing_country: 'France',
      shipping_address: '123 Rue du Commerce',
      shipping_city: 'Paris',
      shipping_postal_code: '75001',
      shipping_country: 'France',
      tracking_number: 'TR123456789FR',
      created_at: '2023-07-20T14:25:00',
      updated_at: '2023-07-21T10:15:00',
      order_items: [
        {
          id: 1,
          order_id: 1,
          product_id: 1,
          quantity: 2,
          price: 49.99,
          total: 99.98,
          created_at: '2023-07-20T14:25:00',
          updated_at: '2023-07-20T14:25:00',
          product: this.products[0],
        },
        {
          id: 2,
          order_id: 1,
          product_id: 4,
          quantity: 1,
          price: 39.99,
          total: 39.99,
          created_at: '2023-07-20T14:25:00',
          updated_at: '2023-07-20T14:25:00',
          product: this.products[3],
        },
      ],
    },
    {
      id: 2,
      user_id: 1,
      order_number: 'ORD-20230905-002',
      status: 'shipped',
      total_amount: 499.99,
      shipping_fee: 0.0,
      tax_amount: 15.0,
      discount_amount: 50.0,
      payment_status: 'paid',
      payment_method: 'paypal',
      payment_id: 'PAYID-MQSW5YA9YE77123GB',
      billing_address: '123 Rue du Commerce',
      billing_city: 'Paris',
      billing_postal_code: '75001',
      billing_country: 'France',
      shipping_address: '123 Rue du Commerce',
      shipping_city: 'Paris',
      shipping_postal_code: '75001',
      shipping_country: 'France',
      tracking_number: 'TR987654321FR',
      created_at: '2023-09-05T11:30:00',
      updated_at: '2023-09-06T09:45:00',
      order_items: [
        {
          id: 3,
          order_id: 2,
          product_id: 3,
          quantity: 1,
          price: 499.99,
          total: 499.99,
          created_at: '2023-09-05T11:30:00',
          updated_at: '2023-09-05T11:30:00',
          product: this.products[2],
        },
      ],
    },
    {
      id: 3,
      user_id: 1,
      order_number: 'ORD-20231115-003',
      status: 'processing',
      total_amount: 109.99,
      shipping_fee: 5.0,
      tax_amount: 3.3,
      discount_amount: 0,
      payment_status: 'paid',
      payment_method: 'stripe',
      payment_id: 'pi_3NwD7vJZkj4aTX0v1VfZptRq',
      billing_address: '123 Rue du Commerce',
      billing_city: 'Paris',
      billing_postal_code: '75001',
      billing_country: 'France',
      shipping_address: '123 Rue du Commerce',
      shipping_city: 'Paris',
      shipping_postal_code: '75001',
      shipping_country: 'France',
      created_at: '2023-11-15T16:20:00',
      updated_at: '2023-11-15T16:20:00',
      order_items: [
        {
          id: 4,
          order_id: 3,
          product_id: 2,
          quantity: 1,
          price: 109.99,
          total: 109.99,
          created_at: '2023-11-15T16:20:00',
          updated_at: '2023-11-15T16:20:00',
          product: this.products[1],
        },
      ],
    },
  ];

  constructor() {}

  getUserOrders(userId: number): Observable<Order[]> {
    // Simuler un délai de réseau
    return of(this.orders.filter((order) => order.user_id === userId));
  }

  getOrderById(orderId: number): Observable<Order | undefined> {
    return of(this.orders.find((order) => order.id === orderId));
  }
}
